<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <!-- 
        1. required=true, pattern=정규표현식
        2. 폼객체의 상세한 검증
     -->

    <form action="#" name="joinForm">

        아이디:<input type="text" name="id"><br>
        비밀번호:<input type="password" name="pw"><br>

        지역:
        <select name="region">
            <option>선택</option>
            <option>서울</option>
            <option>경기</option>
        </select>
        <br>

        자기소개:<br>
        <textarea name="intro" cols="50" rows="5"></textarea>

        전공<br>
        <input type="checkbox" name="inter">자바
        <input type="checkbox" name="inter">제이에스
        <input type="checkbox" name="inter">데이터베이스

        <button type="submit" class="btn">가입</button>

    </form>

    <script>
        
        var btn = document.querySelector(".btn");
        btn.onclick = function() {

            event.preventDefault(); //submit버튼의 중단
            /* 
            폼객체는 doc의 하위객체이기때문에 form의 name속성으로 접근가능
            예를 들어 폼객체 하위의 input태그는
            doc.폼이름.인풋이름 으로 접근한다
             */

            // console.log( document.joinForm.id );
            // console.log( document.joinForm.pw );

            if( document.joinForm.id.value == "" ) {
                alert("아이디는 필수 입니다.");
                document.joinForm.id.focus(); //태그에 포커스
                return; //함수종료 즉 다음작업을 하지않도록 해줌 필수

            } else if( document.joinForm.id.value.length < 4 ) {
                alert("아이디는 4글자 이상입니다");
                document.joinForm.id.focus();
                return

            } else if( document.joinForm.pw.value == "" ) {
                alert("비밀번호는 필수 입니다.");
                document.joinForm.pw.focus(); //태그에 포커스
                return; //함수종료 즉 다음작업을 하지않도록 해줌 필수

            } else if( document.joinForm.region.value == "선택" ) {
                alert("지역을 선택하세요");
                document.joinForm.region.focus();
                return;

            } else {
                var inter = document.getElementsByName("inter");
                var bool = true;

                for( var i = 0; i < inter.length; i++ ) {
                    if( inter[i].checked ) { //체크박스의 체크여부
                        bool = false;
                        break; //반복문종료
                    }
                }

                if(bool) {
                    alert("전공은 1개이상 필수입니다");
                    return;
                } 
            }

            //폼태그 (js로 폼전송)
            document.joinForm.submit();

        }

    </script>

</body>
</html>